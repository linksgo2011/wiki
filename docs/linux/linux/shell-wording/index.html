<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Shell 文字处理函数 | 架构师知识系统</title>
  <meta name="author" content="少个分号">
  
  <meta name="description" content="cat用于查看文件

cat file.txt

多个文件同时使用

cat file1.txt  file2.txt

显示行号

cat -n [filename]

甚至从命令行写入文件

cat &amp;gt; [name-of-new-file]

复制文件（通常不要这样干，用 cp）

cat">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Shell 文字处理函数">
  <meta property="og:site_name" content="架构师知识系统">

  
    <meta property="og:image" content="undefined">
  

  
    <link rel="alternative" href="/atom.xml" title="架构师知识系统" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/css/sidenav.css" media="screen" type="text/css">  
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>
</html>
<body id="body" data-spy="scroll" data-target=".toc">
  <div class="container" id="container">
	<div class="content">
	  <div class="page-header">		
  <h1><a class="brand" href="/">架构师知识系统</a><span class="split"></span><span class="title">Shell 文字处理函数</span><span class="date" id="title-date"><i class="fa fa-clock-o"></i> 2019-11-22</span></h1>
</div>		

<div class="row page">
  <!-- cols -->	
  
  <div class="col-xs-12 col-sm-3 col-md-3 toc"> 
	<!-- toc -->
<script type="text/javascript">
		jQuery(document).ready(function() {
 		   generateWikiTOC('.note', '.toc',  2 , 2 );
		});
</script>
  </div><!-- col-md-3 -->
  
  

  
  <div class="col-xs-12 col-sm-9 col-md-9 note">
	

	  <!-- content -->
	  <h2 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h2><p>用于查看文件</p>
<blockquote>
<p>cat file.txt</p>
</blockquote>
<p>多个文件同时使用</p>
<blockquote>
<p>cat file1.txt  file2.txt</p>
</blockquote>
<p>显示行号</p>
<blockquote>
<p>cat -n [filename]</p>
</blockquote>
<p>甚至从命令行写入文件</p>
<blockquote>
<p>cat &gt; [name-of-new-file]</p>
</blockquote>
<p>复制文件（通常不要这样干，用 cp）</p>
<blockquote>
<p>cat file1.txt &gt; file3.txt</p>
</blockquote>
<p>行尾高亮</p>
<blockquote>
<p>cat -E file1.txt</p>
</blockquote>
<p>显示空白字符</p>
<blockquote>
<p>cat -v file9.txt</p>
</blockquote>
<h2 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h2><p>从指定文件中搜索字符串。</p>
<p>简单搜索</p>
<blockquote>
<p>grep word sample2</p>
</blockquote>
<p>多个文件搜索</p>
<blockquote>
<p>grep word sample sample2 sample3</p>
</blockquote>
<p>搜索当前文件夹</p>
<blockquote>
<p>grep word *</p>
</blockquote>
<p>搜索完整的文字</p>
<blockquote>
<p>grep -w word *</p>
</blockquote>
<p>不区分大小写</p>
<blockquote>
<p>grep -i word *</p>
</blockquote>
<p>子目录递归搜索</p>
<blockquote>
<p>grep -r word *</p>
</blockquote>
<p>反向搜索,排除关键字</p>
<blockquote>
<p>grep -v word sample</p>
</blockquote>
<p>整行匹配</p>
<blockquote>
<p>grep -x “word line1” *</p>
</blockquote>
<p>获取匹配的文件列表</p>
<blockquote>
<p>grep -l word *</p>
</blockquote>
<p>统计匹配行数</p>
<blockquote>
<p>grep -c word *</p>
</blockquote>
<p>限制输出行数</p>
<blockquote>
<p>grep –m2 word sample</p>
</blockquote>
<h2 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h2><p>awk shell 中非常强大的命令，通常用来提取固定模式的字符串。</p>
<p>TODO </p>
<h2 id="seed"><a href="#seed" class="headerlink" title="seed"></a>seed</h2><p>和 awk 一样是非常重要的一个命令，开发者必须掌握。</p>
<h2 id="wc"><a href="#wc" class="headerlink" title="wc"></a>wc</h2><p>统计文本数量的工具，例如</p>
<blockquote>
<p>wc myfile.txt</p>
</blockquote>
<p>5 13 57 myfile.txt</p>
<p>5 是文件行数，13 是单词数，57 是字符数量。</p>
<p>只获取行数</p>
<blockquote>
<p>wc -l </p>
</blockquote>
<p>结合管道使用获取当前目录文件数量</p>
<blockquote>
<p>ls -1 | wc -l</p>
</blockquote>
<h2 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h2><p>sort 不仅在文字处理上非常有用，服务器调优的时候也非常有用,可以快速地找 cpu 性能较差的服务。</p>
<blockquote>
<p>sort list.txt</p>
</blockquote>
<p>根据第二列排序 </p>
<blockquote>
<p>sort -k2 list.txt</p>
</blockquote>
<p>如果排序的字符是数字可以加上 n</p>
<blockquote>
<p>sort -nk9 list.txt</p>
</blockquote>
<h2 id="uniq"><a href="#uniq" class="headerlink" title="uniq"></a>uniq</h2><p>这个命令比较简单，将重复的数据只显示一行，一般配合 sort 使用，常用有两个参数，计数和忽略大小写。</p>
<blockquote>
<p>uniq -c list.txt </p>
</blockquote>
<blockquote>
<p>uniq -i list.txt</p>
</blockquote>
<h2 id="tr"><a href="#tr" class="headerlink" title="tr"></a>tr</h2><p>这个命令可以用来转换和修改输入字符，例如大小写转换和提取数字</p>
<blockquote>
<p>cat testfile |tr a-z A-Z </p>
</blockquote>
<blockquote>
<p>echo “2014年7月21日” | tr -cd “[0-9]” 提取出数字</p>
</blockquote>
<h2 id="综合应用"><a href="#综合应用" class="headerlink" title="综合应用"></a>综合应用</h2><p>提取字符串中的数字</p>
<p>sed</p>
<blockquote>
<p>sed ‘s/[^0-9]*//g’</p>
</blockquote>
<p>shell 自带功能</p>
<blockquote>
<p>echo “${VAR1//[!0-9]/}”</p>
</blockquote>
<p>grep</p>
<blockquote>
<p>echo $VAR1 | grep -o -E ‘[0-9]+’</p>
</blockquote>
	  

	  <div>
  		<center>
		  <div class="pagination">
<ul class="pagination">
	
	
	
	
	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
			
		
	
		
	
		
	
		
	
		
			
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
			
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
	
	
		<li class="prev"><a href="/linux/linux/linux-tar/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>prev</a></li>
	
	<li><a href="/"><i class="fa fa-archive"></i>Home</a></li>
	
		<li class="next"><a href="/linux/linux/linux-vsftpd/" class="alignright next">next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

		</center>
	  </div>
	  
	</div> <!-- col-md-9/col-md-12 -->
	
  </div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
	<footer> <p>
  
  &copy; 2019 少个分号
  
  <a href="/about" target="_blank">关于本站</a> |
  <a href="https://github.com/linksgo2011/wiki" target="_blank">github |</a>
  <a href="http://www.printf.cn" target="_blank">我的博客</a>
</p> </footer>
  </div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.tableofcontents.min.js"></script>
<script src="/js/tocgenerator.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


</body>
</html>
