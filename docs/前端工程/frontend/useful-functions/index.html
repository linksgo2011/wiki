<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>前端开发中常用工具函数总结 | web 工程师知识系统</title>
  <meta name="author" content="少个分号">
  
  <meta name="description" content="时间格式化等方法

推荐使用 moment.js 的库文件

模板\循环\MAP等方法使用

underscode.js 的方法

表单序列化成JSON 

$.fn.serializeJson = function() {
    var serializeObj = {};
    var ar">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="前端开发中常用工具函数总结">
  <meta property="og:site_name" content="web 工程师知识系统">

  
    <meta property="og:image" content="undefined">
  

  
    <link rel="alternative" href="/atom.xml" title="web 工程师知识系统" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/css/sidenav.css" media="screen" type="text/css">  
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>
</html>
<body id="body" data-spy="scroll" data-target=".toc">
  <div class="container" id="container">
	<div class="content">
	  <div class="page-header">		
  <h1><a class="brand" href="/">web 工程师知识系统</a><span class="split"></span><span class="title">前端开发中常用工具函数总结</span><span class="date" id="title-date"><i class="fa fa-clock-o"></i> 2020-04-12</span></h1>
</div>		

<div class="row page">
  <!-- cols -->	
  
  <div class="col-xs-12 col-sm-3 col-md-3 toc"> 
	<!-- toc -->
<script type="text/javascript">
		jQuery(document).ready(function() {
 		   generateWikiTOC('.note', '.toc',  2 , 2 );
		});
</script>
  </div><!-- col-md-3 -->
  
  

  
  <div class="col-xs-12 col-sm-9 col-md-9 note">
	

	  <!-- content -->
	  <ol>
<li>时间格式化等方法</li>
</ol>
<p>推荐使用 moment.js 的库文件</p>
<ol start="3">
<li>模板\循环\MAP等方法使用</li>
</ol>
<p>underscode.js 的方法</p>
<ol start="4">
<li>表单序列化成JSON </li>
</ol>
<pre><code>$.fn.serializeJson = function() {
    var serializeObj = {};
    var array = this.serializeArray();
    var str = this.serialize();
    $(array).each(function() {
        if (serializeObj[this.name]) {
            if ($.isArray(serializeObj[this.name])) {
                serializeObj[this.name].push(this.value);
            } else {
                serializeObj[this.name] = [serializeObj[this.name], this.value];
            }
        } else {
            serializeObj[this.name] = this.value;
        }
    });
    return serializeObj;
}
</code></pre><ol start="5">
<li><p>字符串截取使用……填补</p>
<pre><code> String.prototype.strcut = function(number) {
     var length = this.length;
     var tmp = this.substr(0, number);
     if (this.length &gt; number) {
         tmp += &quot;…&quot;;
     }
     return tmp;
</code></pre></li>
</ol>
<ol start="6">
<li><p>时间格式为，xxxx 天，xxx分钟前，日期</p>
<pre><code> Date.prototype.Format = function(fmt, current) {

     if (current) {
         var diff = current - this.getTime();
         if (diff &lt; 5 * 60 * 1000) {
             return &quot;刚刚&quot;;
         }
         if (diff &lt; 60 * 60 * 1000) {
             return (Math.floor(diff / (60 * 1000))) + &quot;分钟前&quot;;
         }
         if (diff &lt; 24 * 60 * 60 * 1000) {
             return (Math.floor(diff / (60 * 60 * 1000))) + &quot;小时前&quot;;
         }

         if (diff &lt; 30 * 24 * 60 * 60 * 1000) {
             return (Math.floor(diff / (24 * 60 * 60 * 1000))) + &quot;天前&quot;;
         }

         if (diff &lt; 12 * 30 * 24 * 60 * 60 * 1000) {
             return (Math.floor(diff / (30 * 24 * 60 * 60 * 1000))) + &quot;月前&quot;;
         }

         if (diff &gt; 12 * 30 * 24 * 60 * 60 * 1000) {
             return (Math.floor(diff / (12 * 30 * 24 * 60 * 60 * 1000))) + &quot;年前&quot;;
         }
     }

     var o = {
         &quot;Y+&quot;: this.getFullYear(), //月份 
         &quot;M+&quot;: this.getMonth() + 1, //月份 
         &quot;d+&quot;: this.getDate(), //日 
         &quot;h+&quot;: this.getHours(), //小时 
         &quot;m+&quot;: this.getMinutes(), //分 
         &quot;s+&quot;: this.getSeconds(), //秒 
         &quot;q+&quot;: Math.floor((this.getMonth() + 3) / 3), //季度 
         &quot;S&quot;: this.getMilliseconds() //毫秒 
     };
     if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + &quot;&quot;).substr(4 - RegExp.$1.length));
     for (var k in o)
         if (new RegExp(&quot;(&quot; + k + &quot;)&quot;).test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((&quot;00&quot; + o[k]).substr((&quot;&quot; + o[k]).length)));
     return fmt;
 }

</code></pre></li>
<li><p>解析URL</p>
<pre><code>function parseUrl() {
        var arr = location.search.split(&#39;?&#39;)[1].split(&#39;&amp;&#39;);
        var params = {};
        for (var i = 0, l = arr.length; i &lt; l; i++) {
            var param = arr[i].split(&#39;=&#39;);
            params[param[0]] = param[1];
        }
        return params;
</code></pre></li>
<li><p>获取get参数</p>
<pre><code>function getParameterByName(name) {
        name = name.replace(/[\[]/, &quot;\\[&quot;).replace(/[\]]/, &quot;\\]&quot;);
        var regex = new RegExp(&quot;[\\?&amp;]&quot; + name + &quot;=([^&amp;#]*)&quot;),
            results = regex.exec(location.search);
        return results === null ? &quot;&quot; : decodeURIComponent(results[1].replace(/\+/g, &quot; &quot;));
</code></pre></li>
</ol>
<ol start="9">
<li>函数节流，让频繁事件触发更稀疏提高性能，例如及时搜索功能。使用方法为fn 为事件响应函数，delay 为间隔时间,调用 throttle(fn,delay) 返回一个新的函数给事件即可</li>
</ol>
<pre><code>        function throttle(fn, delay) {
            var timer = null;
            return function() {
                var context = this,
                    args = arguments;
                clearTimeout(timer);
                timer = setTimeout(function() {
                    fn.apply(context, args);
                }, delay);
            };

</code></pre><ol start="10">
<li>防止表单多次提交，和9中一样，返回一个新的函数<pre><code>/**
 * 防止多次点击函数
 *
 * fn 完成时调用回调
 *  function fn(event,end) {
 *       (typeof end === &quot;function&quot;) &amp;&amp; end(); // 操作完成
 *  }
 */function noRepeateTap(fn) {
    var $obj;
    return function(event) {
        $obj = $(this);
        if ($obj.data(&quot;loadding&quot;) === &quot;true&quot;) {
            return;
        }
        $obj.data(&quot;loadding&quot;, &quot;true&quot;).addClass(&#39;loadding&#39;);
        fn.call(this, event, function end() {
            $obj.data(&quot;loadding&quot;, &quot;&quot;).removeClass(&#39;loadding&#39;);
            return;
        });
    }
</code></pre></li>
</ol>
<p>第10个的使用例子</p>
<pre><code>// 绑定事件
$(container).on(&#39;click&#39;, &#39;.btn-cancel&#39;, noRepeateTap(cancel));


    // 事件响应函数
    function cancel(event, end) {
        event.preventDefault();
             // 模拟异步请求
              setTimeout(function(){
            end(); // 需要手动调用注入的完成函数，通知完成,函数自动添加loadding class 类，用于调整样式，完成后自动移除
        },5000)
</code></pre>	  

	  <div>
  		<center>
		  <div class="pagination">
<ul class="pagination">
	
	
	
	
	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
	
		
	
		
			
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
			
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
	
	
		<li class="prev"><a href="/前端工程/frontend/javascript-basic/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>prev</a></li>
	
	<li><a href="/"><i class="fa fa-archive"></i>Home</a></li>
	
		<li class="next"><a href="/前端工程/frontend/skills/" class="alignright next">next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

		</center>
	  </div>
	  
	</div> <!-- col-md-9/col-md-12 -->
	
  </div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
	<footer> <p>
  
  &copy; 2020 少个分号
  
  <a href="/about" target="_blank">关于本站</a> |
  <a href="https://github.com/linksgo2011/wiki" target="_blank">github |</a>
  <a href="http://www.printf.cn" target="_blank">我的博客</a>
</p> </footer>
  </div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.tableofcontents.min.js"></script>
<script src="/js/tocgenerator.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


</body>
</html>
