---
title: 和生产环境相关的注意事项
categories: 技术架构
toc: true
from: self
---

## 线上配置

- 每个应用使用自己的用户
- 开启防火墙
- 开启服务器监控
- 确保开启日志
- 合理设置安全组，关闭不常用的端口
  - iptables 设置
  - firewall 设置
- 设置合理的 jvm 参数
- 设置合理的线程数
- 设置合理的数据库连接数
- 设置合理的时区
- 合理的日志输出
- 常见异常的处理
- 系统监控
- 密匙管理

## 前端产品注意事项

- gzip
- js 压缩和混淆
  
## 使用 docker 

- 使用合理的基础镜像，减少大小 （shim alphine）

## 数据库

- 开启 bin-log 复制
- 设置合理的时区
- 设置合理的字符集
- 设置合理的存储引擎
- 有合理的唯一健和索引
- 视情况使用的外键，高并发的场景不建议使用外键
- 对 UUID 采用合理的索引
- 考虑数据迁移的便利性